# ğŸ”§ GitHub Actions æ„å»ºå¤±è´¥ - å¿«é€Ÿä¿®å¤æŒ‡å—

## é—®é¢˜åŸå› 

ä½ çš„æ„å»ºå¤±è´¥æ˜¯å› ä¸ºä½¿ç”¨äº†å·²å¼ƒç”¨çš„ GitHub Actions ç‰ˆæœ¬ã€‚

é”™è¯¯ä¿¡æ¯ï¼š
```
Error: This request has been automatically failed because it uses 
a deprecated version of `actions/upload-artifact: v3`
```

## âœ… å·²å®Œæˆçš„ä¿®å¤

æˆ‘å·²ç»å¸®ä½ æ›´æ–°äº†æ‰€æœ‰è¿‡æœŸçš„GitHub Actionsï¼š

| Action | æ—§ç‰ˆæœ¬ | æ–°ç‰ˆæœ¬ | çŠ¶æ€ |
|--------|--------|--------|------|
| upload-artifact | v3 | v4 | âœ… å·²æ›´æ–° |
| setup-python | v4 | v5 | âœ… å·²æ›´æ–° |
| action-gh-release | v1 | v2 | âœ… å·²æ›´æ–° |
| checkout | v4 | v4 | âœ… æœ€æ–° |

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### æ–¹å¼1ï¼šä¸€é”®æ¨é€ä¿®å¤ï¼ˆæ¨èï¼‰

```bash
./push_fix.sh
```

### æ–¹å¼2ï¼šæ‰‹åŠ¨æ¨é€

```bash
# 1. æŸ¥çœ‹ä¿®æ”¹çš„æ–‡ä»¶
git status

# 2. æ·»åŠ æ–‡ä»¶
git add .github/workflows/build.yml
git add CHANGELOG.md
git add ä¿®å¤è¯´æ˜.md
git add å¿«é€Ÿä¿®å¤æŒ‡å—.md

# 3. æäº¤
git commit -m "fix: æ›´æ–°GitHub Actionsåˆ°æœ€æ–°ç‰ˆæœ¬"

# 4. æ¨é€
git push
```

### æ–¹å¼3ï¼šå¦‚æœè¿˜æ²¡åˆå§‹åŒ–Git

```bash
./init_git.sh
# æŒ‰ç…§æç¤ºå®ŒæˆGitåˆå§‹åŒ–å’Œæ¨é€
```

## ğŸ“Š éªŒè¯ä¿®å¤

æ¨é€åï¼š

1. **è®¿é—®GitHubä»“åº“**
   ```
   https://github.com/ä½ çš„ç”¨æˆ·å/excel-draw-tool
   ```

2. **ç‚¹å‡» Actions æ ‡ç­¾**
   - æŸ¥çœ‹æœ€æ–°çš„workflowè¿è¡Œ
   - ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦5-10åˆ†é’Ÿï¼‰

3. **ç¡®è®¤æ„å»ºæˆåŠŸ**
   - âœ… Build on ubuntu-latest
   - âœ… Build on windows-latest
   - âœ… Build on macos-latest

4. **ä¸‹è½½æ„å»ºäº§ç‰©**
   - åœ¨Actionsé¡µé¢ç‚¹å‡»æˆåŠŸçš„è¿è¡Œ
   - æ»šåŠ¨åˆ° "Artifacts" éƒ¨åˆ†
   - ä¸‹è½½ä¸‰ä¸ªå¹³å°çš„æ–‡ä»¶

## ğŸ¯ é¢„æœŸç»“æœ

æ„å»ºæˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
âœ“ Build on ubuntu-latest (10m 23s)
âœ“ Build on windows-latest (12m 45s)
âœ“ Build on macos-latest (8m 56s)
```

ä»¥åŠä¸‰ä¸ªartifactæ–‡ä»¶ï¼š
- `excel-draw-tool-linux.tar.gz`
- `excel-draw-tool-windows.zip`
- `excel-draw-tool-macos.tar.gz`

## â“ å¸¸è§é—®é¢˜

### Q: æ¨é€åè¿˜æ˜¯å¤±è´¥ï¼Ÿ

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ç¡®è®¤ä¿®æ”¹å·²æäº¤ï¼š`git log -1`
- [ ] ç¡®è®¤å·²æ¨é€ï¼š`git status`
- [ ] æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
- [ ] æ£€æŸ¥requirements.txtæ˜¯å¦å®Œæ•´

### Q: æ„å»ºå¾ˆæ…¢æ€ä¹ˆåŠï¼Ÿ

**æ­£å¸¸æƒ…å†µ**ï¼š
- Ubuntu: 8-12åˆ†é’Ÿ
- Windows: 10-15åˆ†é’Ÿ
- macOS: 8-12åˆ†é’Ÿ

é¦–æ¬¡æ„å»ºä¼šæ…¢ä¸€äº›ï¼Œåç»­ä¼šæœ‰ç¼“å­˜åŠ é€Ÿã€‚

### Q: åªæƒ³æ„å»ºä¸€ä¸ªå¹³å°ï¼Ÿ

ä¿®æ”¹ `.github/workflows/build.yml` ä¸­çš„ matrix éƒ¨åˆ†ï¼š

```yaml
# åªæ„å»ºLinux
matrix:
  include:
    - os: ubuntu-latest
      artifact_name: excel-draw-tool-linux
      asset_name: excel-draw-tool-linux-amd64
```

### Q: å¦‚ä½•æœ¬åœ°æµ‹è¯•æ„å»ºï¼Ÿ

```bash
source venv/bin/activate
pip install pyinstaller
pyinstaller --clean --noconfirm build.spec
cd dist/excel-draw-tool
./excel-draw-tool  # æµ‹è¯•è¿è¡Œ
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ä¿®å¤è¯´æ˜.md](ä¿®å¤è¯´æ˜.md) - è¯¦ç»†çš„ä¿®å¤è¯´æ˜
- [GITHUB_DEPLOY.md](GITHUB_DEPLOY.md) - å®Œæ•´çš„GitHubéƒ¨ç½²æŒ‡å—
- [éƒ¨ç½²æŒ‡å—.md](éƒ¨ç½²æŒ‡å—.md) - æœ¬åœ°å’Œäº‘ç«¯éƒ¨ç½²æµç¨‹
- [CHANGELOG.md](CHANGELOG.md) - æ›´æ–°æ—¥å¿—

## ğŸ”— æœ‰ç”¨çš„é“¾æ¥

- [GitHub Actionsæ–‡æ¡£](https://docs.github.com/en/actions)
- [upload-artifact v4æ›´æ–°è¯´æ˜](https://github.com/actions/upload-artifact)
- [å¼ƒç”¨å…¬å‘Š](https://github.blog/changelog/2024-04-16-deprecation-notice-v3-of-the-artifact-actions/)

## ğŸ“ æ›´æ–°è®°å½•

**2026-01-18**
- âœ… ä¿®å¤äº†GitHub Actionsæ„å»ºå¤±è´¥é—®é¢˜
- âœ… æ›´æ–°æ‰€æœ‰Actionsåˆ°æœ€æ–°ç‰ˆæœ¬
- âœ… åˆ›å»ºäº†å¿«é€Ÿä¿®å¤è„šæœ¬å’Œæ–‡æ¡£

---

## ğŸ‰ å¼€å§‹ä¿®å¤

ç°åœ¨è¿è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹ä¿®å¤ï¼š

```bash
./push_fix.sh
```

æˆ–è€…æŸ¥çœ‹è¯¦ç»†è¯´æ˜ï¼š

```bash
cat ä¿®å¤è¯´æ˜.md
```

**é¢„ç¥æ„å»ºæˆåŠŸï¼** ğŸš€âœ¨

